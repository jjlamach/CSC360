<!-- Alex's code -->
<div class="container-fluid" align="center">
    <div class="jumbotron">
        <h1>Looking for a study partner?</h1>
    </div>

    <form [formGroup]="searchByClass" (ngSubmit)="searchPartners()" novalidate>
        <div class="form-group">
            <label for="ClassNameFormControlInput">Search for partner by class here:</label>
            <input type="text" class="form-control" id="class" placeholder="CSC333, CSC350, ..." formControlName="class"
                required>
        </div>

        <div class="buttons">
            <button type="button" class="btn btn-secondary gap-right" (click)="resetForm()">Reset</button>
            <button type="submit" class="btn btn-success" [disabled]="!searchByClass.valid">Find Partner</button>
            <button type="button" class="btn btn-secondary" (click)="findAll()">Find All</button>
        </div>
    </form>
    <br>
    <form [formGroup]="newPartner" (ngSubmit)="registerPartner()" novalidate>
        <div class="form-group">
            <label for="ClassNameFormControlInput">Register yourself by a class here:</label>
            <input type="text" class="form-control" id="class" placeholder="CSC333, CSC350, ..." formControlName="class"
                required>
        </div>

        <div class="buttons">

            <button type="submit" class="btn btn-success" [disabled]="!newPartner.valid">Register</button>
        </div>
    </form>

    <div class="card-deck-horizontal cards" *ngIf="search">
        <div align="center" class="studyGroupCard cards" *ngFor="let partner of filtered">
            <div class="card mb-3" style="max-width: 540px;">
                <div class="row no-gutters">
                    <div class="card-body">
                        <h5 class="studygroup-title">Class: {{ partner.class }}</h5>
                        <div class="class-info">
                            <p class="class-number">Contact: {{ partner.contact }}</p>
                        </div>

                        <ng-template #content let-c="close" let-d="dismiss">
                            <div class="modal-header">
                                <h4 class="modal-title" id="modal-basic-title">Hi there!</h4>
                                <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <p>You have successfully found a partner!</p>
                                <p><strong>Class:</strong> {{ partner.class }}</p>
                                <p><strong>Contact:</strong> {{ partner.contact }}</p>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-primary" (click)="c('Save click')">Close</button>
                            </div>
                        </ng-template>

                        <button type="button" class="btn btn-primary" (click)="join(content)">Join</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="card-deck-horizontal cards" *ngIf="all">
            <div align="center" class="studyGroupCard cards" *ngFor="let partner of partners">
                <div class="card mb-3" style="max-width: 540px;">
                    <div class="row no-gutters">
                        <div class="card-body">
                            <h5 class="studygroup-title">Class: {{ partner.class }}</h5>
                            <div class="class-info">
                                <p class="class-number">Contact: {{ partner.contact }}</p>
                            </div>
    
                            <ng-template #content let-c="close" let-d="dismiss">
                                <div class="modal-header">
                                    <h4 class="modal-title" id="modal-basic-title">Hi there!</h4>
                                    <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body">
                                    <p>You have successfully found a partner!</p>
                                    <p><strong>Class:</strong> {{ partner.class }}</p>
                                    <p><strong>Contact:</strong> {{ partner.contact }}</p>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-primary" (click)="c('Save click')">Close</button>
                                </div>
                            </ng-template>
    
                            <button type="button" class="btn btn-primary" (click)="join(content)">Join</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

</div>