<!--Tuan's code-->
<div class="container" align="center">
  <div>
    <h1>Need a book for a class?</h1>
    <!--<p class="h3" align="center"> Buy your books from other classmates here!</p>-->
  </div>

  <div class="form-group">
    <form [formGroup]="textBook" (ngSubmit)="search()" novalidate>
      <div class="form-row">
        <!--course field-->
        <div class="form-group col-md-6">
          <label for="courseSection">Enter Course Section</label>
          <input type="text" class="form-control" id="courseSection" placeholder="csc360" required
            formControlName="class" name="class">
        </div>

        <!--isbn field-->
        <div class="form-group col-md-6">
          <label for="inputISBN">Enter ISBN</label>
          <input type="number" class="form-control" id="inputISBN" placeholder="123456789" required
            formControlName="isbn" name="isbn">
        </div>
      </div>

      <div class="buttons">
        <button type="button" class="btn btn-secondary gap-right" (click)="resetForm()">Reset</button>
        <button type="submit" class="btn btn-success" [disabled]="!textBook.valid">Search</button>
        <button type="button" class="btn btn-secondary gap-left" (click)="findAll()">Find All</button>
      </div>
    </form>
  </div>

  <div class="footer">
    <footer>
      <p align="center"> Need to view your class schedule? <br>
        <a href="https://campusconnect.depaul.edu/psp/CSPRD92/?cmd=login" class="badge">Click here to redirect to
          campusconnect!</a>
      </p>
    </footer>
  </div>

  <div class="card-deck-horizontal" *ngIf="submitted">
    <div align="center" class="bookCard" *ngFor="let textBook of filtered">
      <div class="card mb-3" style="max-width: 540px;">
        <div class="row no-gutters">
          <div class="col-md-4">
            <img src="../../assets/JavaConcepts.png" class="card-img" alt="Responsive image">
          </div>

          <div class="col-md-8">
            <div class="card-body">
              <h5 class="book-title">Title: {{ textBook.title }}</h5>
              <p class="book-ISBN">ISBN: {{ textBook.isbn }}</p>
              <p class="class-number">Class: {{ textBook.class }}</p>
              <p class="book-price">${{ textBook.price }}</p>
              <p class="student">Contact: {{ textBook.contact }}</p>

              <ng-template #content let-c="close" let-d="dismiss">
                <div class="modal-header">
                  <h4 class="modal-title" id="modal-basic-title">Hi there!</h4>
                  <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                  <p>You have successfully bought this book!</p>
                  <p><strong>Title:</strong> {{ textBook.title }}</p>
                  <p><strong>ISBN:</strong> {{ textBook.isbn }}</p>
                  <p><strong>Class:</strong> {{ textBook.class }}</p>
                  <p><strong>Price:</strong> ${{ textBook.price }}</p>
                  <p><strong>Contact:</strong> {{ textBook.contact }}</p>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-primary" (click)="c('Save click')">Close</button>
                </div>
              </ng-template>

              <button type="button" class="btn btn-primary" (click)="buyBook(content, textBook.$key)">Buy Book</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="card-deck-horizontal" *ngIf="all">
      <div align="center" class="bookCard" *ngFor="let textBook of textBooks">
        <div class="card mb-3" style="max-width: 540px;">
          <div class="row no-gutters">
            <div class="col-md-4">
              <img src="../../assets/JavaConcepts.png" class="card-img" alt="Responsive image">
            </div>
  
            <div class="col-md-8">
              <div class="card-body">
                <h5 class="book-title">Title: {{ textBook.title }}</h5>
                <p class="book-ISBN">ISBN: {{ textBook.isbn }}</p>
                <p class="class-number">Class: {{ textBook.class }}</p>
                <p class="book-price">${{ textBook.price }}</p>
                <p class="student">Contact: {{ textBook.contact }}</p>
  
                <ng-template #content let-c="close" let-d="dismiss">
                  <div class="modal-header">
                    <h4 class="modal-title" id="modal-basic-title">Hi there!</h4>
                    <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body">
                    <p>You have successfully bought this book!</p>
                    <p><strong>Title:</strong> {{ textBook.title }}</p>
                    <p><strong>ISBN:</strong> {{ textBook.isbn }}</p>
                    <p><strong>Class:</strong> {{ textBook.class }}</p>
                    <p><strong>Price:</strong> ${{ textBook.price }}</p>
                    <p><strong>Contact:</strong> {{ textBook.contact }}</p>
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-primary" (click)="c('Save click')">Close</button>
                  </div>
                </ng-template>
  
                <button type="button" class="btn btn-primary" (click)="buyBook(content, textBook.$key)">Buy Book</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
</div>